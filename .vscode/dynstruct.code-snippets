{
    "ReactComponent": {
        "prefix": "dynsc",
        "scope": "typescript,typescriptreact",
        "body": [
            "import type {",
            "    Component,",
            "    ComponentDef,",
            "    ComponentModel,",
            "    ComponentParams,",
            "    ComponentStruct,",
            "} from '@/componentModel/contracts';",
            "import {",
            "    getFC,",
            "    useComponent,",
            "} from '@/componentModel/componentModel';",
            "import React from 'react';",
            "import { AppMsgChannels, AppMsgStruct } from './bootstrap'; // appDomain",
            "",
            "type Struct = ComponentStruct<",
            "    AppMsgStruct,",
            "    {",
            "        props: {",
            "            ${2:value}: ${3:string};",
            "        };",
            "        actions: {};",
            "        effects: {};",
            "        children: {};",
            "        msgScope: {",
            "            subscribe: AppMsgChannels<'${5:EVENT1}'>;",
            "            publish: AppMsgChannels<'${4:EVENT2}'>;",
            "            provide: AppMsgChannels<'${5:EVENT3}'>;",
            "        };",
            "    }",
            ">;",
            "",
            "export const use${1:MyComponent} = (params: ComponentParams<Struct>) => {",
            "    let c: Component<Struct>;",
            "    let m: ComponentModel<Struct>;",
            "    const def: ComponentDef<Struct> = {",
            "        props: {",
            "            ${2:value}: undefined,",
            "        },",
            "",
            "        actions: {},",
            "",
            "        effects: {},",
            "",
            "        events: {},",
            "",
            "        msgBroker: {},",
            "",
            "        children: {},",
            "",
            "        view: (_, c) => {",
            "            return <>{m.${2:value}}</>;",
            "        },",
            "    };",
            "",
            "    c = useComponent(def, params);",
            "    m = c.model;",
            "    return c;",
            "};",
            "",
            "export type ${1:MyComponent}Struct = Struct;",
            "export const ${1:MyComponent}FC = getFC(use${1:MyComponent});",
            "$0",
        ],
        "description": "Dynstruct React Component",
    },
}
